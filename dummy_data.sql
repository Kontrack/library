-- 도서관 더미 데이터 삽입 스크립트
USE library;

-- 1. 사용자 데이터 (관리자 5명 + 일반 사용자 10명)
-- 관리자 계정
INSERT INTO users (id, name, password, role) VALUES
('admin1', '관리자1', 'admin1234', 'admin'),
('admin2', '관리자2', 'admin1234', 'admin'),
('admin3', '관리자3', 'admin1234', 'admin'),
('admin4', '관리자4', 'admin1234', 'admin'),
('admin5', '관리자5', 'admin1234', 'admin');

-- 일반 사용자 계정
INSERT INTO users (id, name, password, role) VALUES
('user1', '김철수', 'user1234', 'user'),
('user2', '이영희', 'user1234', 'user'),
('user3', '박민수', 'user1234', 'user'),
('user4', '정수진', 'user1234', 'user'),
('user5', '최동욱', 'user1234', 'user'),
('user6', '강서연', 'user1234', 'user'),
('user7', '윤재혁', 'user1234', 'user'),
('user8', '임다영', 'user1234', 'user'),
('user9', '한승우', 'user1234', 'user'),
('user10', '오지민', 'user1234', 'user');

-- 2. 저자 데이터
INSERT INTO authors (name) VALUES
('김영하'),
('한강'),
('박경리'),
('조정래'),
('무라카미 하루키'),
('J.K. 롤링'),
('조지 오웰'),
('F. 스콧 피츠제럴드'),
('마크 트웨인'),
('찰스 디킨스'),
('제인 오스틴'),
('어니스트 헤밍웨이'),
('허먼 멜빌'),
('레프 톨스토이'),
('도스토옙스키');

-- 3. 카테고리 데이터
INSERT INTO categories (name) VALUES
('소설'),
('판타지'),
('SF'),
('역사'),
('자기계발'),
('경제/경영'),
('과학'),
('예술'),
('철학'),
('심리학');

-- 4. 도서 데이터 (10권 이상)
INSERT INTO books (title, published_year) VALUES
('채식주의자', 2007),
('노르웨이의 숲', 1987),
('해리 포터와 마법사의 돌', 1997),
('1984', 1949),
('위대한 개츠비', 1925),
('톰 소여의 모험', 1876),
('올리버 트위스트', 1838),
('오만과 편견', 1813),
('노인과 바다', 1952),
('모비 딕', 1851),
('전쟁과 평화', 1869),
('죄와 벌', 1866),
('토지', 1994),
('태백산맥', 1986),
('아몬드', 2017);

-- 5. 도서-저자 관계 (Many-to-Many: 여러 저자가 한 책을, 한 저자가 여러 책을)
INSERT INTO book_authors (book_id, author_id) VALUES
-- 채식주의자 - 한강
(1, 2),
-- 노르웨이의 숲 - 무라카미 하루키
(2, 5),
-- 해리 포터 - J.K. 롤링
(3, 6),
-- 1984 - 조지 오웰
(4, 7),
-- 위대한 개츠비 - F. 스콧 피츠제럴드
(5, 8),
-- 톰 소여의 모험 - 마크 트웨인
(6, 9),
-- 올리버 트위스트 - 찰스 디킨스
(7, 10),
-- 오만과 편견 - 제인 오스틴
(8, 11),
-- 노인과 바다 - 어니스트 헤밍웨이
(9, 12),
-- 모비 딕 - 허먼 멜빌
(10, 13),
-- 전쟁과 평화 - 톨스토이
(11, 14),
-- 죄와 벌 - 도스토옙스키
(12, 15),
-- 토지 - 박경리
(13, 3),
-- 태백산맥 - 조정래
(14, 4),
-- 아몬드 - 한강, 김영하 (공저 예시)
(15, 1),
(15, 2);

-- 6. 도서-카테고리 관계 (Many-to-Many: 한 책이 여러 카테고리에)
INSERT INTO book_categories (book_id, category_id) VALUES
-- 채식주의자 - 소설, 심리학
(1, 1),
(1, 10),
-- 노르웨이의 숲 - 소설
(2, 1),
-- 해리 포터 - 판타지, 소설
(3, 2),
(3, 1),
-- 1984 - SF, 소설, 철학
(4, 3),
(4, 1),
(4, 9),
-- 위대한 개츠비 - 소설
(5, 1),
-- 톰 소여의 모험 - 소설
(6, 1),
-- 올리버 트위스트 - 소설, 역사
(7, 1),
(7, 4),
-- 오만과 편견 - 소설
(8, 1),
-- 노인과 바다 - 소설
(9, 1),
-- 모비 딕 - 소설
(10, 1),
-- 전쟁과 평화 - 소설, 역사, 철학
(11, 1),
(11, 4),
(11, 9),
-- 죄와 벌 - 소설, 심리학, 철학
(12, 1),
(12, 10),
(12, 9),
-- 토지 - 소설, 역사
(13, 1),
(13, 4),
-- 태백산맥 - 소설, 역사
(14, 1),
(14, 4),
-- 아몬드 - 소설, 심리학
(15, 1),
(15, 10);

-- 7. 도서 사본 데이터 (각 책마다 1~5권)
INSERT INTO book_copies (book_id, status) VALUES
-- 채식주의자 (3권)
(1, 'available'),
(1, 'borrowed'),
(1, 'available'),
-- 노르웨이의 숲 (2권)
(2, 'available'),
(2, 'borrowed'),
-- 해리 포터 (5권)
(3, 'available'),
(3, 'borrowed'),
(3, 'available'),
(3, 'borrowed'),
(3, 'available'),
-- 1984 (4권)
(4, 'available'),
(4, 'borrowed'),
(4, 'available'),
(4, 'available'),
-- 위대한 개츠비 (2권)
(5, 'borrowed'),
(5, 'available'),
-- 톰 소여의 모험 (3권)
(6, 'available'),
(6, 'available'),
(6, 'borrowed'),
-- 올리버 트위스트 (1권)
(7, 'available'),
-- 오만과 편견 (4권)
(8, 'available'),
(8, 'borrowed'),
(8, 'available'),
(8, 'available'),
-- 노인과 바다 (2권)
(9, 'borrowed'),
(9, 'available'),
-- 모비 딕 (3권)
(10, 'available'),
(10, 'available'),
(10, 'borrowed'),
-- 전쟁과 평화 (2권)
(11, 'available'),
(11, 'available'),
-- 죄와 벌 (3권)
(12, 'borrowed'),
(12, 'available'),
(12, 'available'),
-- 토지 (5권)
(13, 'available'),
(13, 'borrowed'),
(13, 'available'),
(13, 'available'),
(13, 'borrowed'),
-- 태백산맥 (4권)
(14, 'available'),
(14, 'available'),
(14, 'borrowed'),
(14, 'available'),
-- 아몬드 (3권)
(15, 'borrowed'),
(15, 'available'),
(15, 'available');

-- 8. 대출 기록 데이터 (50건 이상)
-- 대출 기간: 7일
-- 연체 기록 포함

-- 2024년 8월 대출 기록 (모두 반납됨)
INSERT INTO loans (user_id, copy_id, checkout_at, due_at, returned_at) VALUES
('user1', 1, '2024-08-01 10:00:00', '2024-08-08 10:00:00', '2024-08-07 14:00:00'),
('user2', 4, '2024-08-02 11:00:00', '2024-08-09 11:00:00', '2024-08-08 09:00:00'),
('user3', 6, '2024-08-03 12:00:00', '2024-08-10 12:00:00', '2024-08-15 16:00:00'), -- 연체
('user4', 10, '2024-08-05 13:00:00', '2024-08-12 13:00:00', '2024-08-11 10:00:00'),
('user5', 15, '2024-08-06 14:00:00', '2024-08-13 14:00:00', '2024-08-12 11:00:00'),
('user6', 20, '2024-08-07 15:00:00', '2024-08-14 15:00:00', '2024-08-13 12:00:00'),
('user7', 25, '2024-08-08 16:00:00', '2024-08-15 16:00:00', '2024-08-14 13:00:00'),
('user8', 30, '2024-08-10 10:00:00', '2024-08-17 10:00:00', '2024-08-16 14:00:00'),
('user9', 35, '2024-08-12 11:00:00', '2024-08-19 11:00:00', '2024-08-18 15:00:00'),
('user10', 40, '2024-08-15 12:00:00', '2024-08-22 12:00:00', '2024-08-21 16:00:00');

-- 2024년 9월 대출 기록
INSERT INTO loans (user_id, copy_id, checkout_at, due_at, returned_at) VALUES
('user1', 2, '2024-09-01 10:00:00', '2024-09-08 10:00:00', '2024-09-07 14:00:00'),
('user2', 7, '2024-09-02 11:00:00', '2024-09-09 11:00:00', '2024-09-08 09:00:00'),
('user3', 11, '2024-09-03 12:00:00', '2024-09-10 12:00:00', '2024-09-09 16:00:00'),
('user4', 16, '2024-09-05 13:00:00', '2024-09-12 13:00:00', '2024-09-18 10:00:00'), -- 연체
('user5', 21, '2024-09-06 14:00:00', '2024-09-13 14:00:00', '2024-09-12 11:00:00'),
('user6', 26, '2024-09-07 15:00:00', '2024-09-14 15:00:00', '2024-09-13 12:00:00'),
('user7', 31, '2024-09-08 16:00:00', '2024-09-15 16:00:00', '2024-09-14 13:00:00'),
('user8', 36, '2024-09-10 10:00:00', '2024-09-17 10:00:00', '2024-09-16 14:00:00'),
('user9', 41, '2024-09-12 11:00:00', '2024-09-19 11:00:00', '2024-09-18 15:00:00'),
('user10', 45, '2024-09-15 12:00:00', '2024-09-22 12:00:00', '2024-09-21 16:00:00'),
('user1', 3, '2024-09-16 10:00:00', '2024-09-23 10:00:00', '2024-09-22 14:00:00'),
('user2', 8, '2024-09-17 11:00:00', '2024-09-24 11:00:00', '2024-09-23 09:00:00'),
('user3', 12, '2024-09-18 12:00:00', '2024-09-25 12:00:00', '2024-09-24 16:00:00'),
('user4', 17, '2024-09-19 13:00:00', '2024-09-26 13:00:00', '2024-09-25 10:00:00'),
('user5', 22, '2024-09-20 14:00:00', '2024-09-27 14:00:00', '2024-09-26 11:00:00');

-- 2024년 10월 대출 기록 (일부 현재 대출 중)
INSERT INTO loans (user_id, copy_id, checkout_at, due_at, returned_at) VALUES
('user6', 1, '2024-10-01 10:00:00', '2024-10-08 10:00:00', '2024-10-07 14:00:00'),
('user7', 5, '2024-10-02 11:00:00', '2024-10-09 11:00:00', '2024-10-08 09:00:00'),
('user8', 9, '2024-10-03 12:00:00', '2024-10-10 12:00:00', '2024-10-09 16:00:00'),
('user9', 13, '2024-10-05 13:00:00', '2024-10-12 13:00:00', '2024-10-11 10:00:00'),
('user10', 18, '2024-10-06 14:00:00', '2024-10-13 14:00:00', '2024-10-12 11:00:00'),
('user1', 23, '2024-10-07 15:00:00', '2024-10-14 15:00:00', '2024-10-13 12:00:00'),
('user2', 27, '2024-10-08 16:00:00', '2024-10-15 16:00:00', '2024-10-14 13:00:00'),
('user3', 32, '2024-10-10 10:00:00', '2024-10-17 10:00:00', '2024-10-16 14:00:00'),
('user4', 37, '2024-10-12 11:00:00', '2024-10-19 11:00:00', '2024-10-18 15:00:00'),
('user5', 42, '2024-10-15 12:00:00', '2024-10-22 12:00:00', NULL), -- 현재 대출 중
('user6', 46, '2024-10-16 10:00:00', '2024-10-23 10:00:00', NULL), -- 현재 대출 중
('user7', 2, '2024-10-17 11:00:00', '2024-10-24 11:00:00', NULL), -- 현재 대출 중 (borrowed 상태)
('user8', 7, '2024-10-18 12:00:00', '2024-10-25 12:00:00', NULL), -- 현재 대출 중 (borrowed 상태)
('user9', 14, '2024-10-19 13:00:00', '2024-10-26 13:00:00', NULL), -- 현재 대출 중
('user10', 19, '2024-10-20 14:00:00', '2024-10-27 14:00:00', NULL), -- 현재 대출 중
('user1', 24, '2024-10-01 15:00:00', '2024-10-08 15:00:00', '2024-10-07 12:00:00'),
('user2', 28, '2024-10-02 16:00:00', '2024-10-09 16:00:00', '2024-10-08 13:00:00'),
('user3', 33, '2024-10-03 10:00:00', '2024-10-10 10:00:00', '2024-10-09 14:00:00'),
('user4', 38, '2024-10-04 11:00:00', '2024-10-11 11:00:00', '2024-10-10 15:00:00'),
('user5', 43, '2024-10-05 12:00:00', '2024-10-12 12:00:00', '2024-10-11 16:00:00'),
('user6', 46, '2024-10-06 13:00:00', '2024-10-13 13:00:00', '2024-10-12 10:00:00'),
('user7', 3, '2024-10-07 14:00:00', '2024-10-14 14:00:00', '2024-10-13 11:00:00'),
('user8', 8, '2024-10-08 15:00:00', '2024-10-15 15:00:00', '2024-10-14 12:00:00'),
('user9', 29, '2024-10-09 16:00:00', '2024-10-16 16:00:00', '2024-10-15 13:00:00'),
('user10', 34, '2024-10-10 10:00:00', '2024-10-17 10:00:00', '2024-10-16 14:00:00');

-- 연체 중인 대출 기록 (returned_at이 NULL이고 due_at이 현재 날짜보다 7일 이상 이전)
INSERT INTO loans (user_id, copy_id, checkout_at, due_at, returned_at) VALUES
('user3', 39, '2024-10-01 10:00:00', '2024-10-08 10:00:00', NULL), -- 연체 중
('user4', 44, '2024-10-05 11:00:00', '2024-10-12 11:00:00', NULL); -- 연체 중

-- 추가 대출 기록 (50건 이상 채우기)
INSERT INTO loans (user_id, copy_id, checkout_at, due_at, returned_at) VALUES
('user1', 40, '2024-09-25 10:00:00', '2024-10-02 10:00:00', '2024-10-01 14:00:00'),
('user2', 4, '2024-09-26 11:00:00', '2024-10-03 11:00:00', '2024-10-02 09:00:00'),
('user5', 5, '2024-09-27 12:00:00', '2024-10-04 12:00:00', '2024-10-03 16:00:00'),
('user6', 6, '2024-09-28 13:00:00', '2024-10-05 13:00:00', '2024-10-04 10:00:00'),
('user7', 10, '2024-09-29 14:00:00', '2024-10-06 14:00:00', '2024-10-05 11:00:00');

