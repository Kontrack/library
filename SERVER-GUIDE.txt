================================================================================
                  ë„ì„œê´€ ê´€ë¦¬ ì‹œìŠ¤í…œ - ì„œë²„ ê´€ë¦¬ ê°€ì´ë“œ
================================================================================

GitHub: https://github.com/Kontrack/library
Domain: https://library.kontrack.kr

================================================================================
ğŸ“‚ íŒŒì¼ êµ¬ì¡° (ì„œë²„ ë°°í¬ìš©)
================================================================================

release/
â”‚
â”œâ”€â”€ ğŸš€ ê´€ë¦¬ ìŠ¤í¬ë¦½íŠ¸ (8ê°œ)
â”‚   â”œâ”€â”€ deploy.sh              í”„ë¡œë•ì…˜ ë°°í¬
â”‚   â”œâ”€â”€ start.sh               MySQL ì‹œì‘
â”‚   â”œâ”€â”€ stop.sh                MySQL ì¤‘ì§€
â”‚   â”œâ”€â”€ restart.sh             MySQL ì¬ì‹œì‘
â”‚   â”œâ”€â”€ rebuild.sh             MySQL ì¬ë¹Œë“œ
â”‚   â”œâ”€â”€ update.sh              Git pull + ìë™ ë°°í¬ â­
â”‚   â”œâ”€â”€ health.sh              ìƒíƒœ ì¢…í•© í™•ì¸ â­
â”‚   â”œâ”€â”€ logs.sh                ë¡œê·¸ í™•ì¸ â­
â”‚   â””â”€â”€ setup-permissions.sh   ì‹¤í–‰ ê¶Œí•œ ì„¤ì •
â”‚
â”œâ”€â”€ âš™ï¸  ì„¤ì • íŒŒì¼ (2ê°œ)
â”‚   â”œâ”€â”€ docker-compose.yml         MySQL ì»¨í…Œì´ë„ˆ ì„¤ì •
â”‚   â””â”€â”€ nginx-library-config.txt   Nginx ì„¤ì • í…œí”Œë¦¿
â”‚
â”œâ”€â”€ ğŸ“š ë¬¸ì„œ (4ê°œ)
â”‚   â”œâ”€â”€ README.txt                 í”„ë¡œì íŠ¸ ê°œìš” â­
â”‚   â”œâ”€â”€ SERVER-GUIDE.txt           ì´ íŒŒì¼
â”‚   â”œâ”€â”€ README-DEPLOYMENT.txt      ìƒì„¸ ë°°í¬ ê°€ì´ë“œ
â”‚   â”œâ”€â”€ PROJECT-SUMMARY.txt        í”„ë¡œì íŠ¸ ìš”ì•½
â”‚   â””â”€â”€ GitHubì‚¬ìš©ê°€ì´ë“œ.md        Git ê°€ì´ë“œ (gitignoreë¨)
â”‚
â””â”€â”€ ğŸŒ ì›¹ í”„ë¡ íŠ¸ì—”ë“œ
    â””â”€â”€ public/
        â”œâ”€â”€ index.html         ë¡œê·¸ì¸ í˜ì´ì§€
        â”œâ”€â”€ register.html      íšŒì›ê°€ì… í˜ì´ì§€
        â”œâ”€â”€ main.html          ë©”ì¸ í˜ì´ì§€
        â”œâ”€â”€ css/ (4ê°œ)
        â””â”€â”€ js/ (3ê°œ)


================================================================================
ğŸš€ ë¹ ë¥¸ ì‹œì‘ (3ë‹¨ê³„)
================================================================================

1ï¸âƒ£  ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬ (ìµœì´ˆ 1íšŒ)
   chmod +x *.sh

2ï¸âƒ£  í”„ë¡œë•ì…˜ ë°°í¬
   ./deploy.sh
   â†’ ì˜µì…˜ 1 ì„ íƒ

3ï¸âƒ£  í™•ì¸
   https://library.kontrack.kr ì ‘ì†


================================================================================
ğŸ’¡ ì¼ìƒ ì‚¬ìš© ëª…ë ¹ì–´
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì•„ì¹¨ ì‹œì‘                                                                â”‚
â”‚   ./start.sh && ./health.sh                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ìƒíƒœ í™•ì¸                                                                â”‚
â”‚   ./health.sh                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ë¡œê·¸ í™•ì¸                                                                â”‚
â”‚   ./logs.sh                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì½”ë“œ ì—…ë°ì´íŠ¸ (Git pull + ì¬ë°°í¬)                                         â”‚
â”‚   ./update.sh                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì¬ì‹œì‘                                                                   â”‚
â”‚   ./restart.sh                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ í‡´ê·¼ ì¤‘ì§€                                                                â”‚
â”‚   ./stop.sh                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


================================================================================
ğŸ“Š ìŠ¤í¬ë¦½íŠ¸ ìƒì„¸
================================================================================

deploy.sh
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  í”„ë¡œë•ì…˜ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
  1. ì›¹ íŒŒì¼ì„ /usr/share/nginx/html/library/ ë¡œ ë³µì‚¬
  2. Nginx ì„¤ì • ìë™ ìƒì„± ë° í™œì„±í™”
  3. SSL ì¸ì¦ì„œ ìë™ ë°œê¸‰ (Let's Encrypt)
  4. MySQL ì»¨í…Œì´ë„ˆ ì‹œì‘
  
  ì‚¬ìš©: ./deploy.sh â†’ ì˜µì…˜ 1 ì„ íƒ

update.sh â­
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  ìë™ ì—…ë°ì´íŠ¸ ìŠ¤í¬ë¦½íŠ¸
  1. Git pull (ìµœì‹  ì½”ë“œ)
  2. ì›¹ íŒŒì¼ ìë™ ë³µì‚¬
  3. MySQL ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘
  
  ì‚¬ìš©: ./update.sh

health.sh â­
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  ì‹œìŠ¤í…œ ìƒíƒœ ì¢…í•© í™•ì¸
  - MySQL ìƒíƒœ ë° ì‘ë‹µ
  - ì›¹ì„œë²„ HTTPS ì‘ë‹µ (library.kontrack.kr)
  - Nginx ì„œë¹„ìŠ¤ ìƒíƒœ
  - ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰
  
  ì‚¬ìš©: ./health.sh

logs.sh â­
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  ë¡œê·¸ í™•ì¸ (ëŒ€í™”í˜•)
  1) MySQL ë¡œê·¸
  2) Nginx ë¡œê·¸ (ì‹œìŠ¤í…œ)
  3) ì‹¤ì‹œê°„ MySQL ë¡œê·¸
  4) ìµœê·¼ 50ì¤„
  
  ì‚¬ìš©: ./logs.sh

start.sh
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  MySQL ì»¨í…Œì´ë„ˆ ì‹œì‘
  ì‚¬ìš©: ./start.sh

stop.sh
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  MySQL ì»¨í…Œì´ë„ˆ ì¤‘ì§€
  ì‚¬ìš©: ./stop.sh

restart.sh
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  MySQL ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘
  ì‚¬ìš©: ./restart.sh

rebuild.sh
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  MySQL ì´ë¯¸ì§€ ì™„ì „ ì¬ë¹Œë“œ (ìºì‹œ ì—†ì´)
  ì‚¬ìš©: ./rebuild.sh


================================================================================
ğŸ”„ ì›Œí¬í”Œë¡œìš°
================================================================================

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ ìµœì´ˆ ë°°í¬ (ì„œë²„ ì…‹ì—…)                                                  â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
  git clone git@github.com:Kontrack/library.git
  cd library
  chmod +x *.sh
  ./deploy.sh    # ì˜µì…˜ 1 ì„ íƒ

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ ë§¤ì¼ ì•„ì¹¨ ë£¨í‹´                                                         â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
  ./start.sh && ./health.sh

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ ì½”ë“œ ìˆ˜ì • í›„ ë°°í¬                                                      â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
  # ë¡œì»¬ì—ì„œ
  git add .
  git commit -m "ë©”ì‹œì§€"
  git push
  
  # ì„œë²„ì—ì„œ
  ./update.sh

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ ë¬¸ì œ ë°œìƒ ì‹œ                                                           â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
  1. ./health.sh     # ìƒíƒœ í™•ì¸
  2. ./logs.sh       # ë¡œê·¸ í™•ì¸
  3. ./restart.sh    # ì¬ì‹œì‘
  4. ./rebuild.sh    # ì¬ë¹Œë“œ (í•„ìš”ì‹œ)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ í‡´ê·¼ ì‹œ                                                                â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
  ./stop.sh


================================================================================
ğŸ“± ì ‘ì† ì •ë³´
================================================================================

ì›¹ ì ‘ì†:    https://library.kontrack.kr

MySQL:      localhost:3307
Database:   library
User:       root
Password:   library2024

ì›¹ íŒŒì¼:    /usr/share/nginx/html/library/
Nginx ì„¤ì •: /etc/nginx/sites-available/library.kontrack.kr


================================================================================
ğŸ”§ ë¬¸ì œ í•´ê²°
================================================================================

âŒ ê¶Œí•œ ì˜¤ë¥˜
   chmod +x *.sh

âŒ Git pull ì‹¤íŒ¨
   ssh -T git@github.com
   # SSH í‚¤ ì„¤ì • í™•ì¸

âŒ ì›¹ì‚¬ì´íŠ¸ ì ‘ì† ì•ˆë¨
   sudo nginx -t
   sudo systemctl status nginx
   sudo systemctl reload nginx

âŒ MySQL ì ‘ì† ì•ˆë¨
   docker-compose ps library-mysql
   ./logs.sh    # ì˜µì…˜ 1 ì„ íƒ
   ./restart.sh

âŒ í¬íŠ¸ ì¶©ëŒ
   # 3307 í¬íŠ¸ ì‚¬ìš© í™•ì¸
   netstat -tlnp | grep 3307


================================================================================
ğŸ’¡ ìœ ìš©í•œ íŒ
================================================================================

# ìë™ ì—…ë°ì´íŠ¸ (í¬ë¡ íƒ­)
crontab -e
0 3 * * * cd /path/to/library && ./update.sh >> /tmp/library-update.log 2>&1

# ë°±ì—…
docker-compose exec library-mysql mysqldump -u root -plibrary2024 library > backup.sql

# ë³µì›
docker-compose exec -T library-mysql mysql -u root -plibrary2024 library < backup.sql

# ì§ì ‘ MySQL ì ‘ì†
docker-compose exec library-mysql mysql -u root -plibrary2024

# Nginx ë¡œê·¸ ì‹¤ì‹œê°„ í™•ì¸
sudo tail -f /var/log/nginx/access.log
sudo tail -f /var/log/nginx/error.log


================================================================================
ğŸ“š ì¶”ê°€ ë¬¸ì„œ
================================================================================

README.txt              - í”„ë¡œì íŠ¸ ê°œìš” ë° ë¹ ë¥¸ ì‹œì‘
README-DEPLOYMENT.txt   - ìƒì„¸ ë°°í¬ ê°€ì´ë“œ
PROJECT-SUMMARY.txt     - í”„ë¡œì íŠ¸ ì „ì²´ ìš”ì•½
GitHubì‚¬ìš©ê°€ì´ë“œ.md     - Git/GitHub ì‚¬ìš©ë²•


================================================================================
                    ì„œë²„ ê´€ë¦¬ ê°€ì´ë“œ ë - ì¦ê±°ìš´ ê´€ë¦¬ ë˜ì„¸ìš”! ğŸš€
================================================================================

